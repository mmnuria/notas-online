# Grupo 1 tardes: 3ti21_g01
### Julen Garcia, Santiago Chiappe, Nuria Manzano, Bianca Popa, Thomas Azevedo, Sonia Palomo y Joan Escutia.

## Día 18 de Abril de 2023

#### Presentación y organización del proyecto.

- Este fue el primer día del proyecto. Asistencia de todos los miembros menos de Sonia Palomo. La reunión fue realizada desde clase donde se llevó a cabo la presentación de los miembros y organización del proyecto. En el grupo hay varios alumnos que no son españoles, es por ello que se decidió comunicarnos verbalmente mediante el español, pero a través de mensajes y demás es totalmente flexible.
- Las reuniones serán a través de una plataforma llamada discord, en la que se ha creado un servidor y desde ahí poder comunicarnos tanto por llamadas telefónicas de audio como por mensajes escritos. Además, por whatssap también se ha creado un grupo en el que la comunicación es frecuente y diaria.
- Se optó por hacer reuniones una vez por semana (en principio) y si fuese necesario se realizaría alguna más.  
- Finalmente, para la organización del depósito de materiales se hará a través de Google Drive y el código generado en eclipse se guardará en un repositorio de GitHub donde todos los miembros del grupo tendrán acceso.

__Firmado__ : Nuria Manzano Mata, secretaria.
  

## Día 22 de Abril de 2023
#### Aspectos esenciales para el trabajo en equipo.

- Reunión realizada por discord. Asistencia de todos los miembros.
- Realización de la actividad del documento “Aspectos esenciales para el trabajo en equipo” en la que cada uno de los compañeros fue exponiendo el tema que le tocó, en resumen se obtuvo los siguientes comentarios:
    1. __Sonia Palomo__ hizo el apartado de “Comunicación” de la agrupación 1. En general la presentación fue bien, excepto porque a los dos integrantes del grupo que no son españoles les costaba entender el idioma.
    2. __Joan Escutia__ presentó el apartado “Brainstorming” de la agrupación 2. La opinión del resto de miembros del grupo fue que tenía una buena capacidad de comunicación aunque puesto que Bianca y Thomas no dominan muy bien el español les costaba un poco más seguir el hilo de la presentación.
    3. __Nuria Manzano__ presentó el apartado de la agrupación 3 “Conflictos” los comentarios recibidos por los compañeros fueron positivos, concisos y sin tapujos.
    4. __Bianca Popa__ presentó el apartado “Objetivos” de la agrupación 1 como no habla español lo hizo en inglés y a algunos miembros del grupo que no dominan el inglés les costó entenderla pero entre todos intentamos explicar lo que estaba diciendo.
    5. __Julen Garcia__ se encargó de presentar el último apartado “Gestión de conflictos” perteneciente a la agrupación 3. Su presentación fue bastante correcta aunque tenía algunos problemas a la hora de comunicar en inglés alguna idea a algún compañero extranjero puesto que no domina tanto el idioma.
    6. __Santiago Chiappe__ se preparó “Resolución de problemas” de la agrupación 1. Hizo una excelente presentación y además tradujo la mayoría de cosas al francés para que tanto Bianca como Thomas no tuvieran problemas a la hora de entenderlo.
    7. __Thomas Azevedo__ nos presentó el apartado “Expectativas” de la agrupación 2. Al igual que con Bianca hubo algún problema con la comunicación puesto que al no hablar español había alguna cosa que costaba de entender pero al final conseguimos entendernos gracias a que Santiago habla bastante bien tanto inglés como español.
- Finalmente, se concretó que para la siguiente reunión se debería de tener creado el proyecto en Eclipse, sincronizado con un repositorio de GitHub y además, tener los logs revisados y prácticamente hechos.

 __Firmado__ : Nuria Manzano Mata, secretaria.
      
        
## Día 8 de Mayo de 2023

#### Experimentación básica.

- Reunión realizada en clase. Asistencia de todos los miembros menos Thomas Azevedo.
- Antes de esta reunión se creó el proyecto en Eclipse y sus correspondientes logs. Durante la reunión hubo problemas con la clonación del repositorio de GitHub que había creado Bianca Popa para algunos compañeros, además de su configuración para el uso del GitHub Desktop. 
- _Bianca Popa_ y _Santiago Chiappe_ inicializaron los primeros archivos necesarios para el proyecto, como el contenido en los logs.
- La reunión concluyó sin poder avanzar demasiado, dado los problemas técnicos.

__Firmado__ : Nuria Manzano Mata, secretaria.


## Día 10 de Mayo de 2023

#### Detalles para la primera entrega.

- El equipo de proyecto se reunió por medio de la plataforma Discord, sin embargo, debido a problemas técnicos, Bianca Popa asistió de manera remota a través del chat, en donde compartió los inconvenientes que debíamos abordar. Frente a esta situación, se unieron al chat de voz Joan Escutia, Nuria Manzano, Sonia Palomo y Santiago Chiappe, con el fin de organizar las acciones a tomar, ya que el primer Hito del proyecto debía entregarse el próximo 14 de Mayo.
- Durante la reunión, se llegó a la conclusión de que solamente hacía falta los formularios correspondientes de cada logs. Tras discutir sobre posibles soluciones y evaluar las opciones disponibles, se acordó tomar medidas inmediatas para abordar este problema y lograr cumplir con los objetivos del proyecto dentro del plazo previsto. Concretamos que entre todos se resolvería el problema, sin necesidad de división de tareas puesto que estaba casi todo realizado.

__Firmado__ : Nuria Manzano Mata, secretaria.

## Día 12, 13 y 14 de Mayo de 2023

#### Últimos detalles para la primera entrega.

- Vía Whatsapp.
- _Bianca Popa_ y _Santiago Chiappe_ habían realizado logs0 con algunos fallos, log1 funcionaba a medias y log2 incorrecto, por lo que, _Nuria Manzano_ realizó todos los cambios oportunos para que estos logs pudieran funcionar, creando una nueva clase java “FileSystem” en la que apoyarse para su buen funcionamiento. 
- _Nuria Manzano_ añadió los formularios de cada uno de los logs (como exigía la entrega, completando la mayor parte de esta).
- _Julen García_ se encargó del formato Markdown de las actas y _Nuria Manzano_ añadió la información requerida en dicho formato relacionada con las órdenes “curl”.
- _Nuria Manzano_ realizó el shell script OrdersCE.sh con los comandos “curl” para interactuar con CentroEducativo v0.2

__Firmado__ : Nuria Manzano Mata, secretaria.

## Utilización de los Logs.

Para poder utilizar los formularios que interactúan con los servlets log0, log1 y log2, es necesario los siguientes pasos:
  1. Acceder a través de tu máquina virtual a la dirección "http://localhost:8080/notas-online/log[numero_de_log].html".
  2. Accedes a un formulario en el que encontrarás un botón que al hacer click se ejecutará el log correspondiente.
      1. Si ejecutas log0, en la consola del servidor se imprimirá las líneas requeridas (datos del formulario, información del cliente, fecha actual, URI, método).
      2. Si ejecutas log1, realizará lo mismo que el log0 y además en una ruta preestablecida ("/home/user/notas-online/access.log") se guardará en local dicho fichero ("access.log") en donde se escribirá la información del log. En caso de que no exista el directorio "notas-online" y/o el fichero "access.log" se crearán (utilizando la clase FileSystem() de nuestro proyecto).
      3. Si ejecutas log2, realizará lo mismo que log3 pero extrayendo la ruta anterior de la información almacenada en una variable de contexto en web.xml llamada "log-file-path".
  
  ## Información extra para los logs.

  Una vez que ejecutas el servidor Apache Tomcat y __ejecutas el log1 o log2__, teniendo en cuenta que el directorio y el archivo ha sido creado por el usuario en la ruta mencionada anteriormente, para comprobar su correcto funcionamiento. Si se borra dicho directorio, para comprobar si en orden inverso (cuando no existe directorio ni archivo) funciona, es necesario reiniciar el servidor, dado que, aunque se elimine el directorio "notas-online" sigue añadiendo dicha información a alguna parte que no hemos identificado, pero que en principio es inexistente.

  ## Explicación ordenes "curl".

  Se adjunta en la tarea el archivo OrdersCE.sh, un shell script que invoca la orden curl con los argumentos necesarios, pueda ejecutar una secuencia de operaciones sobre la aplicación CentroEducativo.

  El propio script muestra por consola una descripción de lo que está sucediendo. A pesar de ello, lo explicaré a continuación como me lo indica la tarea.

  1.  Iniciamos sesión con un dni y contraseña de un usuario de rol NO admin y guardamos en la variable KEY la clave de sesión generada por el login de este usuario.

      ```sh
      KEY=$(curl -s --data '{"dni":"23456733H","password":"123456"}' -X POST -H "content-type: application/json" http://localhost:9090/CentroEducativo/login -c cucu -b cucu)
      ```

  2. Hacemos una consulta a la lista de alumnos y nos la imprime por consola. Utilizamos la variable KEY donde tenemos almacenada la clave de sesión.

      ```sh
      curl -s -X GET 'http://localhost:9090/CentroEducativo/alumnos?key='$KEY -H "accept: application/json" -c cucu -b cucu
      ```

  3. Hacemos también una consulta a la lista de profesores y nos la imprime por consola. Utilizamos la variable KEY donde tenemos almacenada la clave de sesión.

      ```sh
      curl -s -X GET 'http://localhost:9090/CentroEducativo/profesores?key='$KEY -H "accept: application/json" -c cucu -b cucu
      ```

  4. Añadimos un alumno a la aplicación, pero para ello, hay que iniciar sesión primero con un usuario de rol Admin. Guardamos la clave de sesión en la variable KEY1 de dicho login para poder hacer las operaciones pertinentes.

      ```sh
      KEY1=$(curl -s --data '{"dni":"111111111","password":"654321"}' -X POST -H "content-type: application/json" http://localhost:9090/CentroEducativo/login -c cucu -b cucu)
      ```

  5. Se añade el nuevo alumno con el comando siguiente. Cabe destacar que en la consola aparecerá el mensaje de OK si se realiza correctamente.

      ```sh
      curl -s --data '{"apellidos": "Nuevo", "dni": "33445566X", "nombre": "Alumno","password": "123456789"}' -X POST -H "content-type: application/json" 'http://localhost:9090/CentroEducativo/alumnos?key='$KEY1 -c cucu -b cucu
      ```

  6. Y por último, volvemos a mostrar la lista de alumnos, para ver que, efectivamente el último alumno es el que hemos creado. Siendo correcto el funcionamiento.

      ```sh
      curl -s -X GET 'http://localhost:9090/CentroEducativo/alumnos?key='$KEY1 -H "accept: application/json" -c cucu -b cucu
      ```

  7. Para terminar, el comando "-c cucu -b cucu" se añade para crear un archivo .txt que guarda la cookie debido a su requerimiento para, posteriormente usarlo en operaciones de consulta o modificación, ya que, al igual que la clave de sesión, ésta es requerida para la aplicación CentroEducativo.